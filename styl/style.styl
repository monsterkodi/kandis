
//  0000000  000000000  000   000  000    
// 000          000      000 000   000    
// 0000000      000       00000    000    
//      000     000        000     000    
// 0000000      000        000     0000000

editorFontSize        = 14px
selectionRadius       = round(editorFontSize  / 3)
selectionRadiusCursor = round(selectionRadius / 2)
metaRadius            = ceil(editorFontSize   / 2)

minimapWidth          = 130px
scrollbarWidth        = 12px // transparent scroll area
scrollhandleWidth     = 6px
numbersWidth          = 50px
editorPadding         = (8px + numbersWidth)
bottomCornerRadius    = 4px
frameWidth            = 6px
frameBorder           = frameWidth solid
commandlineHeight     = 30px
titlebarHeight        = 22px
titlebarFontSize      = 14px
splithandleHeight     = 6px
thinBorder            = 1px solid
font                  = "Menlo", "Cousine", "Liberation Mono", "Andale Mono", monospace

fill-abs()
    position            absolute
    bottom              0
    right               0
    left                0
    top                 0

pre 
    margin              0

// 0000000     0000000   0000000    000   000
// 000   000  000   000  000   000   000 000 
// 0000000    000   000  000   000    00000  
// 000   000  000   000  000   000     000   
// 0000000     0000000   0000000       000   

*
    outline-width       0
    
body
    fill-abs()
    margin              0
    overflow            hidden
    font-family         font
    -webkit-user-select none
    -webkit-app-region  no-drag
    animation           fadein 0.5s

@keyframes fadein
  from 
    opacity 0
  to
    opacity 1

#main
    position            absolute
    top                 titlebarHeight
    left                0
    right               0
    bottom              0

//  0000000  00000000   000      000  000000000
// 000       000   000  000      000     000   
// 0000000   00000000   000      000     000   
//      000  000        000      000     000   
// 0000000   000        0000000  000     000   
        
#split
    position            relative
    overflow            hidden
    border-left         frameBorder
    border-right        frameBorder
    box-sizing          border-box
    width               100%

// 0000000    00000000    0000000   000   000   0000000  00000000  00000000   
// 000   000  000   000  000   000  000 0 000  000       000       000   000  
// 0000000    0000000    000   000  000000000  0000000   0000000   0000000    
// 000   000  000   000  000   000  000   000       000  000       000   000  
// 0000000    000   000   0000000   00     00  0000000   00000000  000   000  

.browser
    position            absolute
    bottom              0
    right               0
    left                0
    top                 0

.browserColumn
    overflow            hidden
    position            relative

.browserColumnTable
    display             table
    width               100%

.browserRow
    display             block
    padding-left        6px
    padding-right       6px
    white-space         nowrap
    cursor              pointer

.browserSearch
    padding-right       12px
    float               right

.browserImageContainer
    position            relative
    padding-left        frameWidth

.browserImage
    max-width           600px
    max-height          600px
    border              1px solid

//  0000000   0000000   00     00  00     00   0000000   000   000  0000000    000      000  000   000  00000000
// 000       000   000  000   000  000   000  000   000  0000  000  000   000  000      000  0000  000  000     
// 000       000   000  000000000  000000000  000000000  000 0 000  000   000  000      000  000 0 000  0000000 
// 000       000   000  000 0 000  000 0 000  000   000  000  0000  000   000  000      000  000  0000  000     
//  0000000   0000000   000   000  000   000  000   000  000   000  0000000    0000000  000  000   000  00000000

#commandline
    padding             0
    margin              0
    white-space         nowrap 
    display             flex

.ko.shortcut
    opacity             0.5
.ko.command
    font-weight         bold
        
#commandline-span
    position            relative
    flex-grow           1
    white-space         nowrap 
            
#commandline-editor
    font-family         font
    height              commandlineHeight
    fill-abs()
    overflow-x          auto
    overflow-y          hidden

// 0000000    000   000  000000000  000000000   0000000   000   000  
// 000   000  000   000     000        000     000   000  0000  000  
// 0000000    000   000     000        000     000   000  000 0 000  
// 000   000  000   000     000        000     000   000  000  0000  
// 0000000     0000000      000        000      0000000   000   000  

#commandline-button
    font-family         font
    font-size           24px
    padding-top         0px
    padding-left        9px
    padding-right       9px
    cursor              pointer
    min-width           (numbersWidth + 1px)
    box-sizing          border-box
    white-space         nowrap 
    &.empty
        border-right    thinBorder
        
//   00000000  00000000    0000000
//   000       000   000  000     
//   000000    00000000   0000000 
//   000       000             000
//   000       000        0000000 

.fps
    pointer-events  none
    position        absolute
    right           (minimapWidth + 1)
    top             0
    width           minimapWidth
    height          commandlineHeight

.fpsCanvas
    background-color transparent

//  0000000  000000000  00000000   000      
// 000          000     000   000  000      
// 000          000     0000000    000      
// 000          000     000   000  000      
//  0000000     000     000   000  0000000  

#debugCtrl
    fill-abs()
    padding-left 4px

.ctrl
    display inline-block
    font-size  22px
    padding-top 3px
    padding-left 10px
    padding-right 6px
    
// 000  000   000  00000000   0000000 
// 000  0000  000  000       000   000
// 000  000 0 000  000000    000   000
// 000  000  0000  000       000   000
// 000  000   000  000        0000000 
    
#info
    overflow            hidden
    width               minimapWidth
    position            absolute
    right               0
    top                 0
    bottom              0
    padding-top         1px
    border-left         thinBorder    
    font-family         font
    font-size           12px
    & .info-line
        display         block

infoPadding = 6px   
    
.info-words
.info-lines
.info-funcs
.info-files
.info-sticky    
.info-classes
.info-cursors
.info-selections
.info-highlights     
.info-cursor-line
.info-cursor-column
    cursor              pointer
    padding-left        infoPadding
    &.empty
        display         none

// 000000000  000  000000000  000      00000000  0000000     0000000   00000000 
//    000     000     000     000      000       000   000  000   000  000   000
//    000     000     000     000      0000000   0000000    000000000  0000000  
//    000     000     000     000      000       000   000  000   000  000   000
//    000     000     000     0000000  00000000  0000000    000   000  000   000

#titlebar
    display             flex
    flex-direction      row
    height              titlebarHeight
    box-sizing          border-box
    font-size           titlebarFontSize
    padding-left        70px
    white-space         nowrap
    -webkit-app-region  drag

.dot
    display             inline-block
    vertical-align      top
    padding-left        6px
    padding-right       9px
    margin-top          -1px
        
#titlebar .winid
    flex                0 0 0
    display             inline-block
    vertical-align      top
    padding-left        3px
    padding-top         3px
    padding-right       12px

#titlebar .winnum
    flex                0 0 0
    float               right
    display             inline-block
    vertical-align      top
    padding-right       12px
    padding-left        12px
    padding-top         3px

// 000000000   0000000    0000000   000      000000000  000  00000000   
//    000     000   000  000   000  000         000     000  000   000  
//    000     000   000  000   000  000         000     000  00000000   
//    000     000   000  000   000  000         000     000  000        
//    000      0000000    0000000   0000000     000     000  000        

.tooltip
    white-space         nowrap
    padding             3px
    padding-left        frameWidth
    padding-right       frameWidth
    border-bottom-left-radius  frameWidth
    border-bottom-right-radius frameWidth
    position            absolute
    top                 titlebarHeight
    font-size           titlebarFontSize
    opacity             0
    transform           scaleY(0)
    transition          transform 0.2s ease-in, opacity 0.2s ease-in
    overflow            hidden
    
// 000000000   0000000   0000000     0000000    
//    000     000   000  000   000  000         
//    000     000000000  0000000    0000000     
//    000     000   000  000   000       000    
//    000     000   000  0000000    0000000     

.tabs
    flex                1 1 0
    display             flex
    flex-direction      row
    overflow-x          auto
    overflow-y          hidden
    
    -webkit-app-region  drag
        
    &::-webkit-scrollbar
        height          2px

.tabs .name
    -webkit-app-region  no-drag

// 000000000   0000000   0000000    
//    000     000   000  000   000  
//    000     000000000  0000000    
//    000     000   000  000   000  
//    000     000   000  0000000    

.tab
    flex                1 1 0
    border-top-left-radius  6px
    border-top-right-radius 6px
    font-size           titlebarFontSize
    padding-left        6px
    padding-right       6px
    padding-top         3px
    
//  0000000   00000000   00000000   0000000 
// 000   000  000   000  000       000   000
// 000000000  0000000    0000000   000000000
// 000   000  000   000  000       000   000
// 000   000  000   000  00000000  000   000

#area
    position            relative
    overflow            hidden
    pointer-events      auto
    
#area
#terminal
    border-top          frameBorder

// 00000000  0000000    000  000000000   0000000   00000000 
// 000       000   000  000     000     000   000  000   000
// 0000000   000   000  000     000     000   000  0000000  
// 000       000   000  000     000     000   000  000   000
// 00000000  0000000    000     000      0000000   000   000

#terminal
#logview
#editor
    position            relative
    overflow            hidden
    font-family         font
    
#logview
    border-bottom       frameBorder
    
.layers
    fill-abs()
    overflow-x          visible
    overflow-y          hidden
    &::-webkit-scrollbar
        height          2px
        
#commandline-editor .layers
    min-height          commandlineHeight
    &::-webkit-scrollbar
        height          2px

// 000      000  000   000  00000000   0000000
// 000      000  0000  000  000       000     
// 000      000  000 0 000  0000000   0000000 
// 000      000  000  0000  000            000
// 0000000  000  000   000  00000000  0000000 
    
.lines
    cursor              default
    font-size           inherit
    pointer-events      none

.line
    font-size           inherit
    white-space         nowrap
    position            absolute
    & span
        position        absolute
        pointer-events  none

//  0000000  000   000  00000000    0000000   0000000   00000000 
// 000       000   000  000   000  000       000   000  000   000
// 000       000   000  0000000    0000000   000   000  0000000  
// 000       000   000  000   000       000  000   000  000   000
//  0000000   0000000   000   000  0000000    0000000   000   000
        
.cursor
    width                2px
    margin-right        -1px
    margin-left         -1px
    display             inline-block
    &.main:not(.off)
        width            4px
        margin-right    -2px
        margin-left     -2px
        border-radius    2px       
                
// 000   000  000   000  00     00  0000000    00000000  00000000    0000000
// 0000  000  000   000  000   000  000   000  000       000   000  000     
// 000 0 000  000   000  000000000  0000000    0000000   0000000    0000000 
// 000  0000  000   000  000 0 000  000   000  000       000   000       000
// 000   000   0000000   000   000  0000000    00000000  000   000  0000000 

.numbers
    position            absolute
    left                0
    top                 0
    width               numbersWidth
    pointer-events      none
    font-size           13px
    font-family         font

.linenumber
    width               numbersWidth
    border-right        thinBorder
    
    & span
        display         inline-block
        width           (numbersWidth - 8px)
        text-align      right

// 00     00  00000000  000000000   0000000 
// 000   000  000          000     000   000
// 000000000  0000000      000     000000000
// 000 0 000  000          000     000   000
// 000   000  00000000     000     000   000

.meta
    position            absolute
    pointer-events      auto
    
    padding-right             metaRadius
    margin-right            - metaRadius
    margin-left             - editorPadding
    padding-left              editorPadding
    border-top-right-radius   metaRadius
    border-bottom-right-radius   metaRadius
    
    &.href
        cursor              pointer

    &.coffeeResult
    &.searchResult
    &.termResult
    &.spacer
        border-top-right-radius 0
        border-bottom-right-radius 0
        
    &.termCommand
        cursor          pointer

    &.git
        border-radius       0
        padding             0
        margin              0
        width               numbersWidth
            
    &.dbg        
        border-radius       6px
        padding             0
        margin              0
        margin-top          3px
        margin-left         4px
        width               12px
        height              12px
            
.linenumber span .saveButton    
    pointer-events      auto
    cursor              pointer
    width               initial
    padding-top         2px
    margin-top         -2px
    padding-left        4px
    padding-right       4px
    border-radius       4px
        
// 00     00  000  000   000  000  00     00   0000000   00000000 
// 000   000  000  0000  000  000  000   000  000   000  000   000
// 000000000  000  000 0 000  000  000000000  000000000  00000000 
// 000 0 000  000  000  0000  000  000 0 000  000   000  000      
// 000   000  000  000   000  000  000   000  000   000  000      

.minimap
    position            absolute
    top                 0
    bottom              0
    right               0
    width               minimapWidth
    overflow            hidden
    cursor              pointer
    border-left         thinBorder
    pointer-events      auto

.minimap canvas
    pointer-events      none
    position            absolute
    top                 0
    right               0
    overflow            hidden

.topbot
    position            absolute
    right               0
    width               minimapWidth
    pointer-events      none

.minimapLines
    background-color    transparent
    opacity             0.8

.minimapHighlights
.minimapSelections
.minimapCursors
    background-color    transparent
        
// 000   000  000   0000000   000   000  000      000   0000000   000   000  000000000
// 000   000  000  000        000   000  000      000  000        000   000     000   
// 000000000  000  000  0000  000000000  000      000  000  0000  000000000     000   
// 000   000  000  000   000  000   000  000      000  000   000  000   000     000   
// 000   000  000   0000000   000   000  0000000  000   0000000   000   000     000   
            
.highlight
    position            absolute
    pointer-events      none

.bracketmatch
    position            absolute
    pointer-events      none
    text-decoration     underline

.stringmatch
    position            absolute
    pointer-events      none
    text-decoration     underline

//  0000000  00000000  000      00000000   0000000  000000000  000   0000000   000   000
// 000       000       000      000       000          000     000  000   000  0000  000
// 0000000   0000000   000      0000000   000          000     000  000   000  000 0 000
//      000  000       000      000       000          000     000  000   000  000  0000
// 0000000   00000000  0000000  00000000   0000000     000     000   0000000   000   000
    
.selection
    position            absolute
    pointer-events      none
    
    & .empty // used in selections of empty lines
        width            1px
        margin-right    -1px
    
.selection
.highlight    
    padding-right       selectionRadiusCursor
    margin-right        - selectionRadiusCursor
    padding-left        selectionRadiusCursor
    margin-left         - selectionRadiusCursor
    &.start
        padding-left    editorPadding
        margin-left     - editorPadding
    
.stringmatch
.bracketmatch
.selection
.highlight    
    &.tl
        border-top-left-radius selectionRadius
        &.start
            border-top-left-radius 0
            
    &.bl
        border-bottom-left-radius selectionRadius
        &.start
            border-bottom-left-radius 0
            
    &.tr
        border-top-right-radius selectionRadius
    &.br
        border-bottom-right-radius selectionRadius

.stringmatch
.bracketmatch
    padding-right       0
    margin-right        0
    padding-left        0
    margin-left         0

//  0000000   0000000   00     00  00     00   0000000   000   000  0000000    000      000   0000000  000000000
// 000       000   000  000   000  000   000  000   000  0000  000  000   000  000      000  000          000   
// 000       000   000  000000000  000000000  000000000  000 0 000  000   000  000      000  0000000      000   
// 000       000   000  000 0 000  000 0 000  000   000  000  0000  000   000  000      000       000     000   
//  0000000   0000000   000   000  000   000  000   000  000   000  0000000    0000000  000  0000000      000   

.commandlist
    position            absolute
    left                0
    overflow            hidden
    width               500px

.commandlist.coffee
    width               800px

.commandlist.open
    width               600px

// 000      000   0000000  000000000
// 000      000  000          000   
// 000      000  0000000      000   
// 000      000       000     000   
// 0000000  000  0000000      000   

.list
    position            absolute
    left                0
    overflow-x          hidden
    overflow-y          auto
    width               500px
    max-height          460px

.list.commands
    width               200px
    max-height          500px
    
.list-item
    width               100%
    height              20px
    font-family         font
    font-size           16px
    padding-left        5px
    padding-top         2px
    padding-bottom      2px
    overflow-x          auto
    overflow-y          hidden
    cursor              pointer
    white-space         nowrap
    -webkit-user-select none
    &::-webkit-scrollbar    
        height          1px

.list.windows
    min-width           200px
    & .list-item
        font-size       titlebarFontSize    
    & .dot
        padding-left    10px
        padding-right   10px
    & .winid    
        padding-left    62px

//  0000000   000   000  000000000   0000000    0000000   0000000   00     00  00000000   000      00000000  000000000  00000000
// 000   000  000   000     000     000   000  000       000   000  000   000  000   000  000      000          000     000     
// 000000000  000   000     000     000   000  000       000   000  000000000  00000000   000      0000000      000     0000000 
// 000   000  000   000     000     000   000  000       000   000  000 0 000  000        000      000          000     000     
// 000   000   0000000      000      0000000    0000000   0000000   000   000  000        0000000  00000000     000     00000000

.autocomplete-span
    opacity             1  
    
.autocomplete-list 
    position            absolute
    width               auto
    overflow-x          hidden
    overflow-y          auto
    left                0
    top                 100%
    &::-webkit-scrollbar
        width            4px
    &::-webkit-scrollbar-thumb
        width            2px
    
.autocomplete-item
    white-space         nowrap
    width               100%
    display             block
    padding-left        5px
    padding-right       10px
    overflow            hidden
    cursor              pointer
    -webkit-user-select none    

//  0000000   0000000  00000000    0000000   000      000      0000000     0000000   00000000 
// 000       000       000   000  000   000  000      000      000   000  000   000  000   000
// 0000000   000       0000000    000   000  000      000      0000000    000000000  0000000  
//      000  000       000   000  000   000  000      000      000   000  000   000  000   000
// 0000000    0000000  000   000   0000000   0000000  0000000  0000000    000   000  000   000

::-webkit-scrollbar
    width               scrollhandleWidth
    height              scrollhandleWidth  
    background-color    transparent

::-webkit-scrollbar-track
    background-color    transparent
    
.scrollbar
    position            absolute
    top                 0
    cursor              pointer
        
    &.left
        bottom          0
        left            0
        width           scrollbarWidth
    &.right
        cursor          ns-resize
        right           0
        width           10%
        height          100%

.scrollhandle
    position            absolute
    width               scrollhandleWidth
    top                 0
    &.left
        left            0
    &.right
        right           0    
    
